<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Documentation of Vinay Keshava</title>
    <link>/docs/</link>
    <description>Recent content in Documentation on Vinay Keshava</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language><atom:link href="/docs/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Interception Vimproved</title>
      <link>/docs/interception-vimproved/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/docs/interception-vimproved/</guid>
      <description>Setting up Interception Vimproved on Debian Bookworm I started learning vim few months ago and wanted to try vim key bindings like shortcuts on my laptop after trying a mechanical hackable keyboard.
Interception Vimproved is a plugin for interception-tools which combines both caps2esc and space on hold work as special fn key. This blog post shows how to setup interception-vimproved using interception-tools on Debian Bookworm.
Step 1: Dependencies Installing Dependencies to build interception-vimproved on Debian Bookworm GNU/Linux</description>
      <content:encoded><![CDATA[<h3>Setting up Interception Vimproved on  Debian Bookworm<span class="absolute -mt-20" id="setting-up-interception-vimproved-on--debian-bookworm"></span>
    <a href="#setting-up-interception-vimproved-on--debian-bookworm" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><p>I started learning vim few months ago and wanted to try vim key bindings like shortcuts on my laptop after trying a mechanical hackable keyboard.</p>
<p><a href="https://github.com/maricn/interception-vimproved" target="_blank" rel="noopener">Interception Vimproved</a> is a plugin for <a href="https://gitlab.com/interception/linux/tools" target="_blank" rel="noopener">interception-tools</a> which combines both caps2esc and space on hold work as special <code>fn</code> key.
This blog post shows how to setup <a href="https://github.com/maricn/interception-vimproved" target="_blank" rel="noopener">interception-vimproved</a> using interception-tools on Debian Bookworm.</p>
<h4>Step 1: Dependencies<span class="absolute -mt-20" id="step-1-dependencies"></span>
    <a href="#step-1-dependencies" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>Installing Dependencies to build interception-vimproved on Debian Bookworm GNU/Linux</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-0"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo apt install interception-tools meson libyaml-cpp-dev cmake </span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-0">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p>interception-tools is a small set of tools for input events of devices,that can be used to customize the behaviour of input keyboard mappings.</p>
<p>The advantage of interception-tools operates at lower level compared to xmodmap by using libevdev and libudev.</p>
<h4>Step 2: Clone &amp; Build<span class="absolute -mt-20" id="step-2-clone--build"></span>
    <a href="#step-2-clone--build" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>Clone interception-vimproved repository and build</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-1"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ git clone <span class="s2">&#34;https://github.com/maricn/interception-vimproved&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ <span class="nb">cd</span> interception-vimproved
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ sudo make install</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-1">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p>Clone the git repository and change the directory, and then launch a <code>make install</code> command to build.</p>
<h4>Step 3: Configuration<span class="absolute -mt-20" id="step-3-configuration"></span>
    <a href="#step-3-configuration" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>Create a new file called udevmon.yaml in /etc/interception and paste the following contents into the file /etc/interception/udevmon.yaml</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-2"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">- JOB: <span class="s2">&#34;interception -g </span><span class="nv">$DEVNODE</span><span class="s2"> | interception-vimproved /etc/interception-vimproved/config.yaml | uinput -d </span><span class="nv">$DEVNODE</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">  DEVICE:
</span></span><span class="line"><span class="cl">    NAME: <span class="s2">&#34;.*((k|K)(eyboard|EYBOARD)).*&#34;</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-2">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p><code>udevmon.yaml</code> is like a job specification for <code>udevmon</code>,specifying that it matches with <code>(k|K)(eyboard|EYBOARD))</code> input device.</p>





  










<div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200">
  <div class="select-none text-xl ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2" style='font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";'>ℹ️</div>
  <div class="w-full min-w-0 leading-7">
    <p class="mt-6 leading-7 first:mt-0">
      I haven&rsquo;t tested this for an External Keyboard Input device,but works fine for the built-in keyboard of the laptop.
    </p>
  </div>
</div>

<h4>Step 4: Reload udevmon<span class="absolute -mt-20" id="step-4-reload-udevmon"></span>
    <a href="#step-4-reload-udevmon" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>Reload udevmon using systemctl</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-3"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo systemctl restart udevmon</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-3">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<h4>Hack around the config<span class="absolute -mt-20" id="hack-around-the-config"></span>
    <a href="#hack-around-the-config" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>To change any keybindings or to add new mappings the config file is present in config.yaml located in /etc/interception-vimproved/ when a <code>sudo make install</code> is launched the config file is
copied to <code>/etc/interception-vimproved/config.yaml</code>.</p>
<p>my config.yaml has the below shortcuts</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div class="filename">/etc/interception-vimproved/config.yaml</div><div id="code-block-4"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">- intercept: KEY_CAPSLOCK
</span></span><span class="line"><span class="cl">  ontap: KEY_ESC
</span></span><span class="line"><span class="cl">  onhold: KEY_LEFTCTRL
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">- intercept: KEY_ENTER
</span></span><span class="line"><span class="cl">  <span class="c1"># not necessary: ontap: KEY_ENTER is inferred if left empty</span>
</span></span><span class="line"><span class="cl">  onhold: KEY_RIGHTCTRL
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># this is a layer. hold space (onhold) contains several remappings</span>
</span></span><span class="line"><span class="cl">- intercept: KEY_SPACE
</span></span><span class="line"><span class="cl">  onhold:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1"># special chars</span>
</span></span><span class="line"><span class="cl">  - from: KEY_E
</span></span><span class="line"><span class="cl">    to: KEY_ESC
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1"># alternative syntax</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_D, to: KEY_DELETE<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_B, to: KEY_BACKSPACE<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1"># vim home row</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_H, to: KEY_LEFT<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_J, to: KEY_DOWN<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_K, to: KEY_UP<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_L, to: KEY_RIGHT<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1"># vim above home row</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_Y, to: KEY_HOME<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_U, to: KEY_PAGEDOWN<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_I, to: KEY_PAGEUP<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_O, to: KEY_END<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1"># number row, to F keys</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_1, to: KEY_F1<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_2, to: KEY_F2<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_3, to: KEY_F3<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_4, to: KEY_F4<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_5, to: KEY_F5<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_6, to: KEY_F6<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_7, to: KEY_F7<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_8, to: KEY_F8<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_9, to: KEY_F9<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_0, to: KEY_F10<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_MINUS, to: KEY_F11<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_EQUAL, to: KEY_F12<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1"># xf86 audio</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_M, to: KEY_MUTE<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_COMMA, to: KEY_VOLUMEDOWN<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: KEY_DOT, to: KEY_VOLUMEUP<span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1"># mouse navigation</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: BTN_LEFT, to: BTN_BACK<span class="o">}</span>
</span></span><span class="line"><span class="cl">  - <span class="o">{</span>from: BTN_RIGHT, to: BTN_FORWARD<span class="o">}</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-8">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-4">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p><a href="https://tracker.debian.org/pkg/interception-tools" target="_blank" rel="noopener">Interception-tools</a> is packaged on debian,interception-vimproved is not,
that is the reason we are building the source of interception-vimproved,hopefully i&rsquo;ll try packaging it !.</p>
<p>Arch has interception-tools already packaged here is the <a href="https://wiki.archlinux.org/title/Interception-tools" target="_blank" rel="noopener">link</a></p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-5"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">:wq <span class="c1">#until next time</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-5">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
]]></content:encoded>
    </item>
    
    <item>
      <title>OpenLDAP</title>
      <link>/docs/openldap/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/docs/openldap/</guid>
      <description>Directory Service ℹ️ Difference between a folder and a directory Folder is for grouping items. Directory has index. It is for finding specific item,Directory is a filesystem concept. In simple terms think directory like a telephone directory which is in a hierarchial structure. The term directory service refers to the collection of software, hardware, and processes that store information about an enterprise, subscribers, or both, and make that information available to users.</description>
      <content:encoded><![CDATA[<h3>Directory Service<span class="absolute -mt-20" id="directory-service"></span>
    <a href="#directory-service" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>




  










<div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200">
  <div class="select-none text-xl ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2" style='font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";'>ℹ️</div>
  <div class="w-full min-w-0 leading-7">
    <p class="mt-6 leading-7 first:mt-0">
      <a href="https://stackoverflow.com/questions/5078676/what-is-the-difference-between-a-directory-and-a-folder" target="_blank" rel="noopener">Difference between a folder and a directory</a>
Folder is for grouping items.
Directory has index. It is for finding specific item,Directory is a filesystem concept.
In simple terms think <code>directory</code> like a telephone directory which is in a hierarchial structure.
    </p>
  </div>
</div>

<p>The term directory service refers to the collection of software, hardware, and processes that store information about an enterprise, subscribers, or both, and make that information available to users. A directory service consists of at least one instance of Directory Server and at least one directory client program. Client programs can access names, phone numbers, addresses, and other data stored in the directory service.</p>
<p>A directory is similar to database,which is attribute-based data;where data is read more often than write.</p>
<p>Directory Server provides Global Directory Services which means it provides information to wide variety of applications,rather than using databases with different applications,which is very hard to administrate.Directory server is a single solution to manage the same information





  










<div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200">
  <div class="select-none text-xl ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2" style='font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";'>ℹ️</div>
  <div class="w-full min-w-0 leading-7">
    <p class="mt-6 leading-7 first:mt-0">
      For example, an organization has three different applications running like nextcloud,email and matrix server and all the applications are accessed by same credentials,if separate database schema&rsquo;s are used for each application it would be hard to manage,if user requesting a password change in one application maybe not be replicated into another application;this problem is solved single,centralized repository of directory information.
    </p>
  </div>
</div>
</p>
<p>LDAP provides a common language that client applications and servers use to communicate with one another. LDAP is a &ldquo;lightweight&rdquo; version of the Directory Access Protocol (DAP)</p>
<h3>RDBMS vs Directory Service<span class="absolute -mt-20" id="rdbms-vs-directory-service"></span>
    <a href="#rdbms-vs-directory-service" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><details class="last-of-type:mb-0 rounded-lg bg-neutral-50 dark:bg-neutral-800 p-2 mt-4 group" open>
  <summary class="flex items-center cursor-pointer select-none list-none p-1 rounded transition-colors hover:bg-gray-100 dark:hover:bg-neutral-800 before:mr-1 before:inline-block before:transition-transform before:content-[''] dark:before:invert rtl:before:rotate-180 group-open:before:rotate-90">
    <strong class="text-lg"><ol>
<li>How often does your data change?</li>
</ol>
</strong>
  </summary>
  <div class="p-2 overflow-hidden">
    Directory servers are used for <code>reads</code>,if your data changes often and have many write operations directory service is not a ideal choice,RDBMS would be the ideal choice.
  </div>
</details>
<details class="last-of-type:mb-0 rounded-lg bg-neutral-50 dark:bg-neutral-800 p-2 mt-4 group" open>
  <summary class="flex items-center cursor-pointer select-none list-none p-1 rounded transition-colors hover:bg-gray-100 dark:hover:bg-neutral-800 before:mr-1 before:inline-block before:transition-transform before:content-[''] dark:before:invert rtl:before:rotate-180 group-open:before:rotate-90">
    <strong class="text-lg"><ol start="2">
<li>Type of Data?</li>
</ol>
</strong>
  </summary>
  <div class="p-2 overflow-hidden">
    If data is defined in <code>Key:Value</code> pair or <code>Attribute:Value</code> pair, Directory service would be the best choice,like user profile.
  </div>
</details>
<details class="last-of-type:mb-0 rounded-lg bg-neutral-50 dark:bg-neutral-800 p-2 mt-4 group" open>
  <summary class="flex items-center cursor-pointer select-none list-none p-1 rounded transition-colors hover:bg-gray-100 dark:hover:bg-neutral-800 before:mr-1 before:inline-block before:transition-transform before:content-[''] dark:before:invert rtl:before:rotate-180 group-open:before:rotate-90">
    <strong class="text-lg"><ol start="3">
<li>Data in Hierarchial tree like structure</li>
</ol>
</strong>
  </summary>
  <div class="p-2 overflow-hidden">
    If data can be modeled into a tree like structure,accessing the parent and child node in the tree,directory service
  </div>
</details>
<h3>OpenLDAP<span class="absolute -mt-20" id="openldap"></span>
    <a href="#openldap" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><p>LDAP stands for Lightweight Directory Access Protocol, for accessing directory services.OpenLDAP is the implementation of the LDAP protocol,is a communications protocol that defines the methods in which a directory service can be accessed.
The LDAP information model is based on entries, which is a collection of attributes that has a globally unique Distinguished Name<code>(DN)</code>
OpenLDAP is the implementation of the LDAP protocol which belong to User Management and Authentication in tech.</p>
<p>The LDAP protocol both authenticates and authorize&rsquo;s users to their resources.The protocol authenticates users with a bind operation that allows users to communicate with LDAP directory
then authorizes the authenticated user to resources they need if they have access that are defined in rules.Once a user is successfully authenticated, they need to be authorized to access the resource(s) requested.
With OpenLDAP, for example, users belong to groups that can be assigned different permissions. If the authenticating user is assigned the correct permissions to access a certain resource, the LDAP protocol will authorize them to it; if not, the protocol will deny access.</p>
<h4>LDAP Data components<span class="absolute -mt-20" id="ldap-data-components"></span>
    <a href="#ldap-data-components" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ol>
<li>
<p>Directory: an LDAP server</p>
</li>
<li>
<p>DIT: the tree of entries stored within a directory server</p>
</li>
<li>
<p>Attributes</p>
</li>
</ol>
<p>Data in LDAP system is stored in elements called attributes,like Key Value pair.Data in the attribute must match to the type defined in the attribute&rsquo;s initial declaration.</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-0"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mail: user@example.com
</span></span><span class="line"><span class="cl">dc:example,dc:com</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-0">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<ol start="4">
<li>Entries</li>
</ol>
<p>Attributes by themselves are not useful, a group or collection of <code>attributes</code> under a name represents an entry.</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-1"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dn: <span class="nv">ou</span><span class="o">=</span>people,dc<span class="o">=</span>example,dc<span class="o">=</span>com
</span></span><span class="line"><span class="cl">objectClass: person
</span></span><span class="line"><span class="cl">sn: Ramesh
</span></span><span class="line"><span class="cl">cn: Varma</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-1">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p>An example entry displayed in LDIF ( LDAP Data Interchange Format).</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-2"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ cat ldif/user.ldif 
</span></span><span class="line"><span class="cl">dn: <span class="nv">uid</span><span class="o">=</span>vinay.m,ou<span class="o">=</span>People,dc<span class="o">=</span>vinay,dc<span class="o">=</span>im
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: inetOrgPerson
</span></span><span class="line"><span class="cl">uid: vinay.m
</span></span><span class="line"><span class="cl">cn: vinay
</span></span><span class="line"><span class="cl">sn: m
</span></span><span class="line"><span class="cl">userPassword: <span class="nb">test</span>
</span></span><span class="line"><span class="cl">ou: People
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">dn: <span class="nv">uid</span><span class="o">=</span>akshay,ou<span class="o">=</span>People,dc<span class="o">=</span>vinay,dc<span class="o">=</span>im
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: inetOrgPerson
</span></span><span class="line"><span class="cl">uid: akshay
</span></span><span class="line"><span class="cl">cn: akshay 
</span></span><span class="line"><span class="cl">sn: p
</span></span><span class="line"><span class="cl">userPassword: <span class="nb">test</span>
</span></span><span class="line"><span class="cl">ou: People</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-2">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<ol start="5">
<li>ObjectClass</li>
</ol>
<p>Object class: a collection of required (MUST) and optional (MAY) attributes. Object classes are further subdivided into STRUCTURAL and AUXILIARY classes, and they may inherit from each other.Every entry has a structural Object class which indicates what type of object an entry is and also can have more auxiliary object that have additional characteristics for that entry.</p>
<p>The ObjectClass definitions are stored in the schema files.Object class must have an object identifier (OID)  Object classes may also list a set of required attribute types (so that any entry with that object class must also include those attributes) and/or a set of optional attribute types (so that any entry with that object class may optionally include those attributes).OID&rsquo;s are sequence of numbers separated by periods(.), “1.2.840.113556.1.4.473”</p>
<ol start="6">
<li>Schema</li>
</ol>
<p>Schema&rsquo;s define the directory, specifying the configuration of the directories including syntax,object classes,attribute types and matching rules.</p>
<h4>slapd - Standalone LDAP Daemon<span class="absolute -mt-20" id="slapd---standalone-ldap-daemon"></span>
    <a href="#slapd---standalone-ldap-daemon" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p><code>slapd</code> is a LDAP directory server,which stands for Standalone LDAP daemon.Providing simple auth and security layer.</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-3"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo apt install slapd ldapvi ldap-utils</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-3">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>





  










<div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-yellow-100 bg-yellow-50 text-yellow-900 dark:border-yellow-200/30 dark:bg-yellow-700/30 dark:text-yellow-200">
  <div class="select-none text-xl ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2" style='font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";'>⚠️</div>
  <div class="w-full min-w-0 leading-7">
    <p class="mt-6 leading-7 first:mt-0">
      when asked for administration password prompt during installation just press <code>Enter</code>,we reconfigure slapd using dpkg-reconfigure after the installation.
    </p>
  </div>
</div>

<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-4"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">$sudo</span> dpkg-reconfigure slapd</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-4">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>





  










<div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200">
  <div class="select-none text-xl ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2" style='font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";'>ℹ️</div>
  <div class="w-full min-w-0 leading-7">
    <p class="mt-6 leading-7 first:mt-0">
      <p>Reconfiguration:</p>
<ol>
<li>Omit initial LDAP server config : <code>No</code> we obviously want to create intial configuration.</li>
<li>DNS Domain Name : domain name to build the base DN of LDAP directory in this case we are choosing <code>vinay.im</code>.</li>
<li>Organization Name: Type down the organization name( here XYZ Pvt Ltd)</li>
<li>Choose an Admin Password of your choice( for tutorial purpose i&rsquo;ve choosed test) and choose MDB as backend database</li>
<li>If asked to purge database when slapd is removed we choose <code>No</code>,will be helpful when we want to switch to a different LDAP server.</li>
<li>Choose Yes if you want to backup the current existing database to <code>/var/backups</code>.</li>
</ol>

    </p>
  </div>
</div>

<p>To have a look at the LDAP database , simple execute <code>slapcat</code> with sudo privileges.</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div class="filename">$ sudo slapcat</div><div id="code-block-5"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo slapcat
</span></span><span class="line"><span class="cl">dn: <span class="nv">dc</span><span class="o">=</span>vinay,dc<span class="o">=</span>im
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: dcObject
</span></span><span class="line"><span class="cl">objectClass: organization
</span></span><span class="line"><span class="cl">o: XYZ Pvt Ltd
</span></span><span class="line"><span class="cl">dc: vinay
</span></span><span class="line"><span class="cl">structuralObjectClass: organization
</span></span><span class="line"><span class="cl">entryUUID: 8057316c-ed6e-103d-8b93-b9da23579469
</span></span><span class="line"><span class="cl">creatorsName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>vinay,dc<span class="o">=</span>im
</span></span><span class="line"><span class="cl">createTimestamp: 20230922083350Z
</span></span><span class="line"><span class="cl">modifiersName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>vinay,dc<span class="o">=</span>im
</span></span><span class="line"><span class="cl">modifyTimestamp: 20230922083350Z</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-8">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-5">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>





  










<div class="overflow-x-auto mt-6 flex rounded-lg border py-2 ltr:pr-4 rtl:pl-4 contrast-more:border-current contrast-more:dark:border-current border-blue-200 bg-blue-100 text-blue-900 dark:border-blue-200/30 dark:bg-blue-900/30 dark:text-blue-200">
  <div class="select-none text-xl ltr:pl-3 ltr:pr-2 rtl:pr-3 rtl:pl-2" style='font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";'>ℹ️</div>
  <div class="w-full min-w-0 leading-7">
    <p class="mt-6 leading-7 first:mt-0">
      Config files are present in <code>/etc/ldap</code> directory.<br>
Schemas can be added within the <code>slap.d</code> directory for server customization.<br>
Database is stored in <code>/var/lib/ldap</code> having two files <code>data.mdb</code> and <code>lock.mdb</code>.
    </p>
  </div>
</div>

<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-6"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo cp /usr/share/doc/slapd/examples/slapd.conf /etc/ldap/</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-6">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p>Copy the example config file <code>slapd.conf</code> to <code>/etc/ldap</code>, and replace DNS domain components <code>dc=example</code> to <code>dc=vinay</code> and <code>dc=com</code> to <code>dc=im</code> everywhere in the config, also
update <code>/etc/default/slapd</code> from  <code>SLAPD_CONF</code> to <code>SLAPD_CONF=/etc/ldap/slapd.conf</code> and update slapd service by <code>sudo systemctl restart slapd</code></p>
<p>In <code>/etc/ldap/slapd.conf</code> under <code>suffix       &quot;dc=vinay,dc=com&quot;</code> add the following lines</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-7"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rootdn          <span class="s2">&#34;cn=admin,dc=vinay,dc=com&#34;</span>
</span></span><span class="line"><span class="cl">rootpw          <span class="s2">&#34;test&#34;</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-7">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p>Restart the slapd service again.</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-8"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ sudo systemctl restart slapd</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-8">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<h4>ldapsearch<span class="absolute -mt-20" id="ldapsearch"></span>
    <a href="#ldapsearch" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div class="filename">ldapsearch anonymous query</div><div id="code-block-9"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nv">$ldapsearch</span> -x -b <span class="s2">&#34;dc=vinay,dc=im&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># vinay.im</span>
</span></span><span class="line"><span class="cl">dn: <span class="nv">dc</span><span class="o">=</span>vinay,dc<span class="o">=</span>im
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: dcObject
</span></span><span class="line"><span class="cl">objectClass: organization
</span></span><span class="line"><span class="cl">o: XYZ Pvt Ltd
</span></span><span class="line"><span class="cl">dc: vinay
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># search result</span>
</span></span><span class="line"><span class="cl">search: <span class="m">2</span>
</span></span><span class="line"><span class="cl">result: <span class="m">0</span> Success
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># numResponses: 2</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-8">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-9">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<div class="code-block relative mt-6 first:mt-0 group/code"><div class="filename">ldapsearch authenticating with admin user</div><div id="code-block-10"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ldapsearch -D <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>vinay,dc<span class="o">=</span>im -w <span class="nb">test</span> -b <span class="nv">dc</span><span class="o">=</span>vinay,dc<span class="o">=</span>im
</span></span><span class="line"><span class="cl"><span class="c1"># extended LDIF</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># LDAPv3</span>
</span></span><span class="line"><span class="cl"><span class="c1"># base &lt;dc=vinay,dc=im&gt; with scope subtree</span>
</span></span><span class="line"><span class="cl"><span class="c1"># filter: (objectclass=*)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># requesting: ALL</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># vinay.im</span>
</span></span><span class="line"><span class="cl">dn: <span class="nv">dc</span><span class="o">=</span>vinay,dc<span class="o">=</span>im
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: dcObject
</span></span><span class="line"><span class="cl">objectClass: organization
</span></span><span class="line"><span class="cl">o: XYZ Pvt Ltd
</span></span><span class="line"><span class="cl">dc: vinay
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># search result</span>
</span></span><span class="line"><span class="cl">search: <span class="m">2</span>
</span></span><span class="line"><span class="cl">result: <span class="m">0</span> Success
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># numResponses: 2</span>
</span></span><span class="line"><span class="cl"><span class="c1"># numEntries: 1</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-8">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-10">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<ol>
<li><code>-D</code> {dn} / <code>--bindDN</code> {dn} — The DN to use to bind to the directory server when performing simple authentication,to use the distinguished binddn name to bind the LDAP directory.</li>
<li><code>-w</code> - this option is used to provide the password on the command line for auth, <code>-W</code> option is used to ask for prompt for typing invisible password without actualling having to type the pass on cli.</li>
<li><code>-b</code> - search base as the starting point for the search instead of default.</li>
<li><code>-x</code> option in ldapsearch is used for simple authentication instead of SASL.</li>
</ol>
<p>The above command search&rsquo;s through the ldap directory server with <code>admin</code> distinguished name providing password with the <code>-w</code> option and setting the searchbase to start from the rootdn.</p>
<p>&ndash; To list all users on ldap</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-11"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ldapsearch -D <span class="s2">&#34;cn=admin,dc=vinay,dc=com&#34;</span> -W -b <span class="s2">&#34;dc=vinay,dc=com&#34;</span>
</span></span><span class="line"><span class="cl">$ slapcat</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-11">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p>lists all users from the base dn</p>
<h4>Adding OU (Organization Unit)<span class="absolute -mt-20" id="adding-ou-organization-unit"></span>
    <a href="#adding-ou-organization-unit" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>Organizational units (OUs) are used to organize entries within the directory tree and can be used to delegate administrative responsibilities within your organization. It’s important to keep your directory organized and well-structured from the beginning; otherwise it will quickly become unwieldy and difficult to manage.</p>
<p>Create a directory called ldif(LDAP Interchange Format) in <code>/etc/ldap</code> and create a file called people.ldif and paste the following contents.</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-12"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ cat /etc/ldap/ldif/people.ldif
</span></span><span class="line"><span class="cl">dn: <span class="nv">ou</span><span class="o">=</span>People,dc<span class="o">=</span>vinay,dc<span class="o">=</span>com
</span></span><span class="line"><span class="cl">ou: People
</span></span><span class="line"><span class="cl">cn: people
</span></span><span class="line"><span class="cl">sn: people
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: inetOrgPerson
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$ ldapadd  -D <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>vinay,dc<span class="o">=</span>im -w <span class="nb">test</span> -f /etc/ldap/ldif/people.ldif 
</span></span><span class="line"><span class="cl">adding new entry <span class="s2">&#34;ou=People,dc=vinay,dc=im&#34;</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-12">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p>now <code>slapcat</code> command shows the OU added within the command output.</p>
<h4>Add new User<span class="absolute -mt-20" id="add-new-user"></span>
    <a href="#add-new-user" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>Adding new user within the newly created OU(Organizational Unit)</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div class="filename">/etc/ldap/john.ldif</div><div id="code-block-13"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># cat john.ldif </span>
</span></span><span class="line"><span class="cl">dn: <span class="nv">uid</span><span class="o">=</span>john,ou<span class="o">=</span>People,dc<span class="o">=</span>vinay,dc<span class="o">=</span>com
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: inetOrgPerson
</span></span><span class="line"><span class="cl">uid: john
</span></span><span class="line"><span class="cl">cn: john
</span></span><span class="line"><span class="cl">ou: People
</span></span><span class="line"><span class="cl">sn: abraham
</span></span><span class="line"><span class="cl">mail: john@vinay.com
</span></span><span class="line"><span class="cl">userPassword: john</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-8">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-13">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p>Adding the .ldif file using ldapadd command</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><pre><code id="code-block-14">$ sudo ldapadd -D &#34;cn=admin,dc=vinay,dc=com&#34; -W -f john.ldif 
Enter LDAP Password: 
adding new entry &#34;uid=john,ou=People,dc=vinay,dc=com&#34;</code></pre><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-14">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<h4>Read entries within OU as admin<span class="absolute -mt-20" id="read-entries-within-ou-as-admin"></span>
    <a href="#read-entries-within-ou-as-admin" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>Now we have added an <code>OU</code> and a user <code>john</code> to <code>People</code> OU,lets try to <code>ldapsearch</code> the users within the OU as admin</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div class="filename">display users of an OU as admin</div><div id="code-block-15"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ldapsearch -D <span class="s2">&#34;cn=admin,dc=vinay,dc=com&#34;</span> -w vinay.com -b <span class="s2">&#34;ou=People,dc=vinay,dc=com&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># extended LDIF</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># LDAPv3</span>
</span></span><span class="line"><span class="cl"><span class="c1"># base &lt;ou=People,dc=vinay,dc=com&gt; with scope subtree</span>
</span></span><span class="line"><span class="cl"><span class="c1"># filter: (objectclass=*)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># requesting: ALL</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># People, vinay.com</span>
</span></span><span class="line"><span class="cl">dn: <span class="nv">ou</span><span class="o">=</span>People,dc<span class="o">=</span>vinay,dc<span class="o">=</span>com
</span></span><span class="line"><span class="cl">ou: People
</span></span><span class="line"><span class="cl">cn: people
</span></span><span class="line"><span class="cl">sn: people
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: inetOrgPerson
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># john, People, vinay.com</span>
</span></span><span class="line"><span class="cl">dn: <span class="nv">uid</span><span class="o">=</span>john,ou<span class="o">=</span>People,dc<span class="o">=</span>vinay,dc<span class="o">=</span>com
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: inetOrgPerson
</span></span><span class="line"><span class="cl">uid: john
</span></span><span class="line"><span class="cl">cn: john
</span></span><span class="line"><span class="cl">ou: People
</span></span><span class="line"><span class="cl">ou: Support
</span></span><span class="line"><span class="cl">sn: abraham
</span></span><span class="line"><span class="cl">mail: john@vinay.com
</span></span><span class="line"><span class="cl">userPassword:: <span class="nv">am9obg</span><span class="o">==</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-8">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-15">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<h4>Read entries within OU as normal user.<span class="absolute -mt-20" id="read-entries-within-ou-as-normal-user"></span>
    <a href="#read-entries-within-ou-as-normal-user" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-16"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ldapsearch -D <span class="s2">&#34;uid=john,ou=People,dc=vinay,dc=com&#34;</span> -w john -b <span class="s2">&#34;ou=People,dc=vinay,dc=com&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># extended LDIF</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl"><span class="c1"># LDAPv3</span>
</span></span><span class="line"><span class="cl"><span class="c1"># base &lt;ou=People,dc=vinay,dc=com&gt; with scope subtree</span>
</span></span><span class="line"><span class="cl"><span class="c1"># filter: (objectclass=*)</span>
</span></span><span class="line"><span class="cl"><span class="c1"># requesting: ALL</span>
</span></span><span class="line"><span class="cl"><span class="c1">#</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># People, vinay.com</span>
</span></span><span class="line"><span class="cl">dn: <span class="nv">ou</span><span class="o">=</span>People,dc<span class="o">=</span>vinay,dc<span class="o">=</span>com
</span></span><span class="line"><span class="cl">ou: People
</span></span><span class="line"><span class="cl">cn: people
</span></span><span class="line"><span class="cl">sn: people
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: inetOrgPerson
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># john, People, vinay.com</span>
</span></span><span class="line"><span class="cl">dn: <span class="nv">uid</span><span class="o">=</span>john,ou<span class="o">=</span>People,dc<span class="o">=</span>vinay,dc<span class="o">=</span>com
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: inetOrgPerson
</span></span><span class="line"><span class="cl">uid: john
</span></span><span class="line"><span class="cl">cn: john
</span></span><span class="line"><span class="cl">ou: People
</span></span><span class="line"><span class="cl">ou: Support
</span></span><span class="line"><span class="cl">sn: abraham
</span></span><span class="line"><span class="cl">mail: john@vinay.com
</span></span><span class="line"><span class="cl">userPassword:: <span class="nv">am9obg</span><span class="o">==</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-16">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<h4>Modifying existing entries<span class="absolute -mt-20" id="modifying-existing-entries"></span>
    <a href="#modifying-existing-entries" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><ol>
<li>Using <code>ldapmodify</code> to update entries.</li>
</ol>
<p>Now to modify an already added record we use ldapmodify and the attributes that are to be modified are put into a separate file,here <code>john-modify.ldif</code> and to demonstrate here an OU <code>Support</code>
is added to the existing entry,along with <code>People</code> OU.</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div class="filename">john-modify.ldif</div><div id="code-block-17"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$  cat /etc/ldap/ldif/john-modify.ldif 
</span></span><span class="line"><span class="cl">dn: <span class="nv">uid</span><span class="o">=</span>john,ou<span class="o">=</span>People,dc<span class="o">=</span>vinay,dc<span class="o">=</span>com
</span></span><span class="line"><span class="cl">changetype: modify
</span></span><span class="line"><span class="cl">add: ou
</span></span><span class="line"><span class="cl">ou: Support</span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-8">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-17">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<div class="code-block relative mt-6 first:mt-0 group/code"><div class="filename">ldapmodify command for john-modify.ldif</div><div id="code-block-18"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ldapmodify -D <span class="s2">&#34;cn=admin,dc=vinay,dc=com&#34;</span> -W -f john-modify.ldif
</span></span><span class="line"><span class="cl">Enter LDAP Password: 
</span></span><span class="line"><span class="cl">modifying entry <span class="s2">&#34;uid=john,ou=People,dc=vinay,dc=com&#34;</span></span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-8">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-18">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p>Now running a slapcat command shows the updated OU <code>Support</code></p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div id="code-block-19"><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">dn: <span class="nv">uid</span><span class="o">=</span>john,ou<span class="o">=</span>People,dc<span class="o">=</span>vinay,dc<span class="o">=</span>com
</span></span><span class="line"><span class="cl">objectClass: top
</span></span><span class="line"><span class="cl">objectClass: inetOrgPerson
</span></span><span class="line"><span class="cl">uid: john
</span></span><span class="line"><span class="cl">cn: john
</span></span><span class="line"><span class="cl">ou: People
</span></span><span class="line"><span class="cl">ou: Support
</span></span><span class="line"><span class="cl">sn: abraham
</span></span><span class="line"><span class="cl">mail: john@vinay.com
</span></span><span class="line"><span class="cl">userPassword:: <span class="nv">am9obg</span><span class="o">==</span>
</span></span><span class="line"><span class="cl">structuralObjectClass: inetOrgPerson
</span></span><span class="line"><span class="cl">entryUUID: 50ea0ea8-f23d-103d-816b-4d9c39504958
</span></span><span class="line"><span class="cl">creatorsName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>vinay,dc<span class="o">=</span>com
</span></span><span class="line"><span class="cl">createTimestamp: 20230928112421Z
</span></span><span class="line"><span class="cl">entryCSN: 20230928120656.291224Z#000000#000#000000
</span></span><span class="line"><span class="cl">modifiersName: <span class="nv">cn</span><span class="o">=</span>admin,dc<span class="o">=</span>vinay,dc<span class="o">=</span>com
</span></span><span class="line"><span class="cl">modifyTimestamp: 20230928120656Z</span></span></code></pre></td></tr></table>
</div>
</div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-19">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p>2.Using <code>ldapvi</code> to update LDAP entries with a text editor.</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><div class="filename">ldapvi example</div><div id="code-block-20"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$  ldapvi -d --host vinay.im </span></span></code></pre></div></div><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-8">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-20">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p><code>ldapvi</code>  is a ldap client using which we can search,modify and delete entries which is easier than <code>ldapmodify</code>  instead of adding the updated records in a separate <code>ldif</code> file.
ldapvi prompts to open text editor to modify entries,just similar to text editor.</p>
<p>The above command will bind anonmously to hostname, here the hostname is <code>vinay.im</code>.After making necessary changes in the entry save from the text editor.</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><pre><code id="code-block-21"># ldapvi -d --host nextcloud.vinay.com
      3 entries read                                                                                                                                                                        
add: 0, rename: 0, modify: 1, delete: 0
Action? [yYqQvVebB*rsf&#43;?] b


--- Login

--- Login

--- Login
Type M-h for help on key bindings.

Filter or DN: cn=admin,dc=vinay,dc=im

    Password: *****

Bound as cn=admin,dc=vinay,dc=im.
add: 0, rename: 0, modify: 1, delete: 0
Action? [yYqQvVebB*rsf&#43;?] y
Done.</code></pre><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-21">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p>after saving and exiting from text editor, an interactive bash prompt <code> [yYqQvVebB*rsf+?]</code></p>
<p><code>y</code> to commit changes.</p>
<p><code>e</code> to edit changes.</p>
<p><code>v</code> to view changes as LDIF change records.</p>
<p><code>b</code> to show login and rebind - we are trying to auth from admin and save the changes to LDAP entries.</p>
<div class="code-block relative mt-6 first:mt-0 group/code"><pre><code id="code-block-22">[Reference serverfault] https://serverfault.com/questions/290296/ldapadd-ldapmodify-clarifications-needed-about-these-commands

#### Verifying the ```slapd.conf``` Configuration file

```bash
$sudo  slaptest -v -f /etc/ldap/slapd.conf 
config file testing succeeded</code></pre><div class="opacity-0 transition group-hover/code:opacity-100 flex gap-1 absolute m-[11px] right-0 top-0">
    <button class="code-copy-btn group/copybtn transition-all active:opacity-50 bg-primary-700/5 border border-black/5 text-gray-600 hover:text-gray-900 rounded-md p-1.5 dark:bg-primary-300/10 dark:border-white/10 dark:text-gray-400 dark:hover:text-gray-50" title="Copy code" data-clipboard-target="#code-block-22">
      <svg class="group-[.copied]/copybtn:hidden pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
      <svg class="hidden group-[.copied]/copybtn:block success-icon pointer-events-none h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
    </button>
  </div>
</div>
<p><code>-f</code> : Specifying an alternative configuration file.</p>
<p><code>-v</code> : enable verbose mode.</p>
<h4>Conventions in OpenLDAP<span class="absolute -mt-20" id="conventions-in-openldap"></span>
    <a href="#conventions-in-openldap" class="subheading-anchor" aria-label="Permalink for this section"></a></h4><p>dn - Distinguished Name<br>
RDN - Relative Distinguished Name<br>
cn - Common Name<br>
dc - Domain Component<br>
mail - Email Address<br>
ou - Organization Unit<br>
ldif - LDAP Data Interchange Format<br>
ldap - Lightweight Directory Access Protocol</p>
<h3>References<span class="absolute -mt-20" id="references"></span>
    <a href="#references" class="subheading-anchor" aria-label="Permalink for this section"></a></h3><ol>
<li>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_directory_server/11/html/deployment_guide/introduction_to_directory_services" target="_blank" rel="noopener">https://access.redhat.com/documentation/en-us/red_hat_directory_server/11/html/deployment_guide/introduction_to_directory_services</a></p>
</li>
<li>
<p><a href="https://www.zytrax.com/books/ldap" target="_blank" rel="noopener">https://www.zytrax.com/books/ldap</a></p>
</li>
<li>
<p><a href="https://tylersguides.com/guides/openldap-how-to-add-a-user/" target="_blank" rel="noopener">https://tylersguides.com/guides/openldap-how-to-add-a-user/</a></p>
</li>
<li>
<p><a href="https://www.zytrax.com/books/ldap/" target="_blank" rel="noopener">https://www.zytrax.com/books/ldap/</a></p>
</li>
</ol>
]]></content:encoded>
    </item>
    
  </channel>
</rss>